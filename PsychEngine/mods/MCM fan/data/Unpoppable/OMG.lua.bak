function onCreate()
makeAnimatedLuaSprite("shader", "background/bedroom/st/static", 0, 0)
addAnimationByPrefix("shader", "shader", "staticFLASH", 24, true)
setGraphicSize('shader', 1280, 720)
setObjectCamera('shader', 'other')
objectPlayAnimation("shader", "shader", true)
setProperty('shader.alpha', 0.25);	
addLuaSprite("shader", false)

makeLuaSprite("overlay", "background/bedroom/st/overlay", 0, 0)
setGraphicSize('overlay', 1280, 720)
setObjectCamera('overlay', 'other')	
addLuaSprite("overlay", false)


end
function onUpdate(elapsed)
	songPos = getSongPosition()
	local currentBeat = (songPos/4000)
	for i = 0, 3 do
		setPropertyFromGroup('opponentStrums', i, 'y', 300 - 300*math.sin((currentBeat+2*0.1)*math.pi));
		notey = 300 - 300*math.sin((currentBeat+2*0.1)*math.pi)
	end
	doTweenY('1', 'dad', 0 - 150*math.sin((currentBeat+2*0.1)*math.pi), 2)
	if mustHitSection then
		triggerEvent('Camera Follow Pos', '50', 400 + 150*math.sin((currentBeat+2*0.1)*math.pi))
	else
		triggerEvent('Camera Follow Pos', '50', 400 - 150*math.sin((currentBeat+2*0.1)*math.pi))
	end
	--doTweenY('11', 'camGame', 0 - 100*math.sin((currentBeat+2*0.1)*math.pi), 2)
	--doTweenX('13', 'camGame', 0 - 25*math.sin((currentBeat+4*0.1)*math.pi), 1)doTweenY('111', 'camGame.scale', 0.5, 1)
	--doTweenX('123', 'camGame.scale', 0.5, 1)
if notey > 300 then
		noteTweenDirection("PlayerNote0", 0, 90, 0.2, "linear")
        noteTweenDirection("PlayerNote1", 1, 90, 0.2, "linear")
        noteTweenDirection("PlayerNote2", 2, 90, 0.2, "linear")
        noteTweenDirection("PlayerNote3", 3, 90, 0.2, "linear")
        
end
if notey < 300 then
		noteTweenDirection("PlayerNote0", 0, 180, 0.2, "linear")
        noteTweenDirection("PlayerNote1", 1, 180, 0.2, "linear")
        noteTweenDirection("PlayerNote2", 2, 180, 0.2, "linear")
        noteTweenDirection("PlayerNote3", 3, 180, 0.2, "linear")
        
end
end
function onCountdownStarted()
	setPropertyFromGroup('opponentStrums', 0, 'x', 114);
	setPropertyFromGroup('opponentStrums', 1, 'x', 227);
	setPropertyFromGroup('opponentStrums', 2, 'x', 937);
	setPropertyFromGroup('opponentStrums', 3, 'x', 1050);

	setPropertyFromGroup('playerStrums', 0, 'x', 414);
	setPropertyFromGroup('playerStrums', 1, 'x', 527);
	setPropertyFromGroup('playerStrums', 2, 'x', 637);
	setPropertyFromGroup('playerStrums', 3, 'x', 750);
	
end



